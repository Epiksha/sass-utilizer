@use 'breakpoint-directionify';
@use 'breakpoint-diver';
@use 'breakpoint-incrementify';
@use 'breakpoint-pseudify';

// Create breakpoints
@mixin breakpointify(
    $label,
    $property,
    $value,
    $negatives,
    $increments,
    $pseudos,
    $dives
) {
    $utilityBreakpoints: (
        sm: 576px,
        md: 768px,
        lg: 1200px
    ) !default;

    $utilityBreakpointParadigm: min-width !default;

    // Add extra breakpoints in addition to existing $utilityBreakpoints list
    @if variable-exists(extraBreakpoints) {
        $utilityBreakpoints: join($utilityBreakpoints, $extraBreakpoints);
    }

    @each $breakpointLabel, $breakpointValue in $utilityBreakpoints {
        @include breakpoint-directionify(
            $label,
            $property,
            $value,
            $negatives,
            $increments,
            $pseudos,
            $dives,
            $breakpoint,
            $utilityBreakpointParadigm
        );

        $newLabel: #{$breakpointLabel}\:#{$label};

        .#{$newLabel} {
            @media (#{$utilityBreakpointParadigm}: $breakpointValue) {
                #{$property}: $value !important;
            }
        }
    }
};